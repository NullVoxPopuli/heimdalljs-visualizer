'use strict';var _Mathceil=Math.ceil,_Mathmax=Math.max,_Mathround=Math.round;define('heimdalljs-visualizer/app',['exports','ember','heimdalljs-visualizer/resolver','ember-load-initializers','heimdalljs-visualizer/config/environment'],function(t,s,o,u,m){'use strict';Object.defineProperty(t,'__esModule',{value:!0});let c;s.default.MODEL_FACTORY_INJECTIONS=!0,c=s.default.Application.extend({modulePrefix:m.default.modulePrefix,podModulePrefix:m.default.podModulePrefix,Resolver:o.default}),(0,u.default)(c,m.default.modulePrefix),t.default=c}),define('heimdalljs-visualizer/components/basic-tree',['exports','ember','d3-selection','d3-hierarchy','d3-zoom'],function(t,s,o,u,m){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const c=s.default.run,h=s.default.get,f=s.default.inject,v=500;t.default=s.default.Component.extend({classNames:['basic-tree'],graph:f.service(),init(){this._super(...arguments),this._graphData=null},didReceiveAttrs(){let y=h(this,'graphData');this._lastGraphData!==y&&y&&(c.schedule('render',this,this.drawTree,y),this._lastGraphData=y)},nodeFilter(y){return y.label.broccoliNode},drawTree(y){function H(k){T(B);let A=B.descendants(),L=B.links(),F=N.selectAll('.node').data(A,(D)=>D.data.id),C=F.enter().append('g').attr('class','node').attr('transform',(D)=>`translate(${D.y},${D.x})`).on('click',(D)=>{D.children?(D._children=D.children,D.children=null):(D.children=D._children,D._children=null),H(D)});C.append('text').attr('dy','0.0em').style('text-anchor',function(D){return D.children?'end':'start'}).text(function(D){return`${D.data.label.name} (${D.data._id})`}),C.append('text').attr('dy','1.1em').style('text-anchor',function(D){return D.children?'end':'start'}).text(function(D){return`total: ${(D.value/1e6).toFixed(2)}`}),C.append('text').attr('dy','2.1em').style('text-anchor',function(D){return D.children?'end':'start'}).text(function(D){return`self: ${(D.data._stats.time.self/1e6).toFixed(2)}`}),F.transition().duration(v).attr('transform',(D)=>`translate(${D.y},${D.x})`),F.exit().transition().duration(v).attr('transform',function(){return'translate('+k.x+','+k.y+')'}).remove();let E=N.selectAll('.link').data(L,(D)=>D.target.data.id);E.enter().append('path').attr('class','link').attr('d',function(D){return'M'+D.target.y+','+D.target.x+'C'+(D.source.y+50)+','+D.target.x+' '+(D.source.y+50)+','+D.source.x+' '+D.source.y+','+D.source.x}),E.transition().duration(v).attr('d',function(D){return'M'+D.target.y+','+D.target.x+'C'+(D.source.y+50)+','+D.target.x+' '+(D.source.y+50)+','+D.source.x+' '+D.source.y+','+D.source.x}),E.exit().transition().duration(v/2).attr('transform',function(){return'translate('+k.x+','+k.y+')'}).remove()}let P=this.element.querySelector('.svg-container');P.innerHTML='';let M=(0,o.select)(P).append('svg').attr('preserveAspectRatio','xMinYMin meet').attr('viewBox','0 0 300 300').classed('svg-content',!0),N=M.append('g'),B=(0,u.hierarchy)(y,(k)=>{let A=[];var L=!0,F=!1,C;try{for(var D,E=k.adjacentIterator()[Symbol.iterator]();!(L=(D=E.next()).done);L=!0){let I=D.value;(!this.nodeFilter||this.nodeFilter(I))&&A.push(I)}}catch(I){F=!0,C=I}finally{try{!L&&E.return&&E.return()}finally{if(F)throw C}}return A}).sum((k)=>k._stats.time.self);self.root=B;let T=(0,u.cluster)().separation((k,A)=>{return k.parent==A.parent?4:8}).nodeSize([8,180]);H(B);let w=(0,m.zoom)().on('zoom',()=>{N.attr('transform',o.event.transform)});M.call(w.transform,function(){return m.zoomIdentity.translate(48,120).scale(0.1)}()),M.call(w)}})}),define('heimdalljs-visualizer/components/fa-icon',['exports','ember-font-awesome/components/fa-icon'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'default',{enumerable:!0,get:function(){return s.default}})}),define('heimdalljs-visualizer/components/fa-list',['exports','ember-font-awesome/components/fa-list'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'default',{enumerable:!0,get:function(){return s.default}})}),define('heimdalljs-visualizer/components/fa-stack',['exports','ember-font-awesome/components/fa-stack'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'default',{enumerable:!0,get:function(){return s.default}})}),define('heimdalljs-visualizer/components/flame-graph',['exports','ember','heimdalljs-visualizer/utils/d3-flame-graphs-v4/d3-flame-graph'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const u=s.default.run,m=s.default.get,c=s.default.inject;t.default=s.default.Component.extend({classNames:['flame-graph'],graph:c.service(),flameGraph:null,totalTime:s.default.computed.alias('graph.data.summary.totalTime'),init(){this._super(...arguments),this._graphData=null},didReceiveAttrs(){this._scheduleDraw()},_scheduleDraw(){let h=m(this,'graph.graph');this._lastGraphData!==h&&h&&(u.schedule('render',this,this.drawFlame,h),this._lastGraphData=h)},formatTime(h){return 1e9<h?(_Mathround(100*(h/1e9))/100).toFixed(1)+'s':1e6<h?(_Mathround(100*(h/1e6))/100).toFixed(0)+'ms':(_Mathround(100*(h/1e6))/100).toFixed(1)+'ms'},convert(h){let f,v,y,H,z,P;if(v={value:h._stats.time.self,treeValue:h._stats.time.self,name:h._label.name+(h._label.broccoliPluginName?' ('+h._label.broccoliPluginName+')':''),stats:h._stats,children:[]},!h._children)return v;let M=v.treeValue;for(P=h._children,H=0,z=P.length;H<z;H++)f=P[H],y=this.convert(f),y&&(v.children.push(y),M+=y.treeValue);return v.treeValue=M,v.time=this.formatTime(v.treeValue),v.percent=(100*(v.treeValue/this.get('totalTime'))).toFixed(1)+'%',v},drawFlame(h){let f=this,v=this.convert(h),y=-1,H=function N(B){y++;let T='',w='&nbsp;';for(let k in B)if(B.hasOwnProperty(k)&&'own'!=k)if('object'==typeof B[k]){if('time'!=k||'time'==k&&1<Object.keys(B[k]).length){let A=k+w.repeat(13).substring(0,13*w.length-6*k.length);T+='&nbsp;'.repeat(y)+A+(0>=y?'<br/>':'')+N(B[k])}}else if('count'==k){let A=w.repeat(5).substring(0,5*w.length-6*B[k].toString().length)+B[k];T+=A}else if('time'==k){let A=f.formatTime(B[k]),L=' '+w.repeat(8).substring(0,8*w.length-6*A.length)+A+'<br/>';T+=L}return y--,T},P=document.getElementsByClassName('flame-graph')[0].clientHeight;P-=P%20;let M=document.getElementsByClassName('flame-graph')[0].clientWidth;this.flameGraph=new o.default('#d3-flame-graph',v,!0).size([M,P]).cellHeight(20).zoomEnabled(!0).zoomAction((N,B)=>console.log('Zoom: ',N,B)).labelFunction((N)=>N.data.name+' ['+N.data.time+' / '+N.data.percent+']').tooltip(function(B){let T=f.formatTime(B.data.treeValue),w=' ['+(100*(B.data.treeValue/f.get('totalTime'))).toFixed(1)+'%]',k=' (self: '+f.formatTime(B.data.stats.time.self)+')';return B.data.name+'<br/>'+T+w+k+'<br/>'+H(B.data.stats)}).render()}})}),define('heimdalljs-visualizer/components/slow-node-times',['exports','ember'],function(t,s){'use strict';function o(y){var H=!0,z=!1,P;try{for(var N,M=y.statsIterator()[Symbol.iterator]();!(H=(N=M.next()).done);H=!0){let T=N.value;var B=m(T,2);let w=B[0],k=B[1];if('time.self'===w)return k}}catch(T){z=!0,P=T}finally{try{!H&&M.return&&M.return()}finally{if(z)throw P}}}function u(y){let H=0;var z=!0,P=!1,M;try{for(var B,N=y.dfsIterator((T)=>T.label.broccoliNode)[Symbol.iterator]();!(z=(B=N.next()).done);z=!0){let T=B.value;H+=o(T)}}catch(T){P=!0,M=T}finally{try{!z&&N.return&&N.return()}finally{if(P)throw M}}return H}Object.defineProperty(t,'__esModule',{value:!0});var m=function(){function y(H,z){var P=[],M=!0,N=!1,B;try{for(var w,T=H[Symbol.iterator]();!(M=(w=T.next()).done)&&(P.push(w.value),!(z&&P.length===z));M=!0);}catch(k){N=!0,B=k}finally{try{!M&&T['return']&&T['return']()}finally{if(N)throw B}}return P}return function(H,z){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return y(H,z);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();const c=s.default.get,h=s.default.set,f=s.default.computed,v=s.default.inject;t.default=s.default.Component.extend({graph:v.service(),sortDescending:!0,nodes:f('data','filter','pluginNameFilter','groupByPluginName',function(){let y=this.get('data');if(!y)return[];let H=[];var z=!0,P=!1,M;try{for(var B,N=y.dfsIterator()[Symbol.iterator]();!(z=(B=N.next()).done);z=!0){let k=B.value;k.label.broccoliNode&&(H.push(k),!k._stats.time.plugin&&(k._stats.time.plugin=u(k)))}}catch(k){P=!0,M=k}finally{try{!z&&N.return&&N.return()}finally{if(P)throw M}}let T=this.get('pluginNameFilter');T&&(H=H.filter((k)=>{return!!k.label.broccoliNode&&!(k.label.broccoliPluginName!==T)}));let w=this.get('groupByPluginName');if(w){let k=H.reduce((A,L)=>{let F=L.label.broccoliPluginName;return A[F]=A[F]||{count:0,time:0},A[F].time+=L._stats.time.plugin,A[F].count++,A},{});for(let A in H=[],k)H.push({groupedByPluginName:!0,label:{name:A,broccoliPluginName:k[A].count},_stats:{time:{plugin:k[A].time}}})}return H}),sortedNodes:f('nodes','sortDescending',function(){return this.get('nodes').sort((y,H)=>{return this.get('sortDescending')?H._stats.time.plugin-y._stats.time.plugin:y._stats.time.plugin-H._stats.time.plugin})}),totalTime:f('nodes',function(){let y=this.get('nodes');return y.reduce(function(H,z){return H+z._stats.time.plugin},0)}),actions:{'focus-node'(y){this.get('graph').selectNode(y)},toggleDetailsForNode(y){if(y.groupedByPluginName)this.set('groupByPluginName',!1),this.set('pluginNameFilter',y.label.name);else{let H=c(y,'showDetails');h(y,'showDetails',!H)}},toggleTime(){this.toggleProperty('sortDescending')}}})}),define('heimdalljs-visualizer/controllers/application',['exports','ember','fetch'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const u=s.default.inject;t.default=s.default.Controller.extend({graph:u.service(),actions:{parseFile(m){let c=new FileReader;c.onload=(h)=>{var f=h.target.result;this.get('graph').setGraph(JSON.parse(f)),this.set('showUploadModal',!1)},c.readAsText(m.target.files[0])},useSample(m){(0,o.default)(m).then((c)=>{return c.json()}).then((c)=>{this.get('graph').setGraph(c),this.set('showUploadModal',!1)})},clearData(){this.get('graph').clearGraph()}}})}),define('heimdalljs-visualizer/controllers/flame',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.Controller,u=s.default.inject;t.default=o.extend({graph:u.service()})}),define('heimdalljs-visualizer/controllers/graph',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.Controller,u=s.default.getOwner,m=s.default.computed,c=s.default.inject;t.default=o.extend({graph:c.service(),route:m.alias('router.currentPath'),init(){this.set('router',u(this).lookup('router:main'))}})}),define('heimdalljs-visualizer/controllers/graph/index',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.inject;t.default=s.default.Controller.extend({graph:o.service()})}),define('heimdalljs-visualizer/controllers/graph/node',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.inject;t.default=s.default.Controller.extend({graph:o.service()})}),define('heimdalljs-visualizer/controllers/selected-node',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.inject;t.default=s.default.Controller.extend({graph:o.service()})}),define('heimdalljs-visualizer/controllers/slow-nodes',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const o=s.default.inject;t.default=s.default.Controller.extend({graph:o.service(),actions:{parseFile(u){let m=new FileReader;m.onload=(c)=>{var h=c.target.result;this.get('graph').setGraph(JSON.parse(h))},m.readAsText(u.target.files[0])}}})}),define('heimdalljs-visualizer/event_dispatcher',['exports','ember-native-dom-event-dispatcher'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'default',{enumerable:!0,get:function(){return s.default}})}),define('heimdalljs-visualizer/helpers/and',['exports','ember','ember-truth-helpers/helpers/and'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.andHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.andHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/app-version',['exports','ember','heimdalljs-visualizer/config/environment','ember-cli-app-version/utils/regexp'],function(t,s,o,u){'use strict';function m(){let f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return f.hideSha?c.match(u.versionRegExp)[0]:f.hideVersion?c.match(u.shaRegExp)[0]:c}Object.defineProperty(t,'__esModule',{value:!0}),t.appVersion=m;const c=o.default.APP.version;t.default=s.default.Helper.helper(m)}),define('heimdalljs-visualizer/helpers/eq',['exports','ember','ember-truth-helpers/helpers/equal'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.equalHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.equalHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/gt',['exports','ember','ember-truth-helpers/helpers/gt'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.gtHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.gtHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/gte',['exports','ember','ember-truth-helpers/helpers/gte'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.gteHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.gteHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/includes',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function u(m,c){var h=[],f=!0,v=!1,y;try{for(var z,H=m[Symbol.iterator]();!(f=(z=H.next()).done)&&(h.push(z.value),!(c&&h.length===c));f=!0);}catch(P){v=!0,y=P}finally{try{!f&&H['return']&&H['return']()}finally{if(v)throw y}}return h}return function(m,c){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return u(m,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.default=s.default.Helper.helper(function(u){var m=o(u,2);let c=m[0],h=m[1];return c&&c.includes&&c.includes(h)})}),define('heimdalljs-visualizer/helpers/is-array',['exports','ember','ember-truth-helpers/helpers/is-array'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.isArrayHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.isArrayHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/is-equal',['exports','ember-truth-helpers/helpers/is-equal'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'default',{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,'isEqual',{enumerable:!0,get:function(){return s.isEqual}})}),define('heimdalljs-visualizer/helpers/lt',['exports','ember','ember-truth-helpers/helpers/lt'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.ltHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.ltHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/lte',['exports','ember','ember-truth-helpers/helpers/lte'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.lteHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.lteHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/not-eq',['exports','ember','ember-truth-helpers/helpers/not-equal'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.notEqualHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.notEqualHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/not',['exports','ember','ember-truth-helpers/helpers/not'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.notHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.notHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/ns-to-ms',['exports','ember'],function(t,s){'use strict';function o(m){var c=u(m,1);let h=c[0];return(h/1e6).toFixed(2)}Object.defineProperty(t,'__esModule',{value:!0}),t.nsToMs=o;var u=function(){function m(c,h){var f=[],v=!0,y=!1,H;try{for(var P,z=c[Symbol.iterator]();!(v=(P=z.next()).done)&&(f.push(P.value),!(h&&f.length===h));v=!0);}catch(M){y=!0,H=M}finally{try{!v&&z['return']&&z['return']()}finally{if(y)throw H}}return f}return function(c,h){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return m(c,h);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.default=s.default.Helper.helper(o)}),define('heimdalljs-visualizer/helpers/or',['exports','ember','ember-truth-helpers/helpers/or'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.orHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.orHelper)),t.default=u}),define('heimdalljs-visualizer/helpers/stats-iterator',['exports','ember'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function u(m,c){var h=[],f=!0,v=!1,y;try{for(var z,H=m[Symbol.iterator]();!(f=(z=H.next()).done)&&(h.push(z.value),!(c&&h.length===c));f=!0);}catch(P){v=!0,y=P}finally{try{!f&&H['return']&&H['return']()}finally{if(v)throw y}}return h}return function(m,c){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return u(m,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}();t.default=s.default.Helper.helper(function(u){var m=o(u,1);let c=m[0],h={};var f=!0,v=!1,y;try{for(var z,H=c.statsIterator()[Symbol.iterator]();!(f=(z=H.next()).done);f=!0){let M=z.value;var P=o(M,2);let N=P[0],B=P[1];h[N]=B}}catch(M){v=!0,y=M}finally{try{!f&&H.return&&H.return()}finally{if(v)throw y}}return h})}),define('heimdalljs-visualizer/helpers/xor',['exports','ember','ember-truth-helpers/helpers/xor'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=null;s.default.Helper?u=s.default.Helper.helper(o.xorHelper):s.default.HTMLBars.makeBoundHelper&&(u=s.default.HTMLBars.makeBoundHelper(o.xorHelper)),t.default=u}),define('heimdalljs-visualizer/initializers/app-version',['exports','ember-cli-app-version/initializer-factory','heimdalljs-visualizer/config/environment'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var u=o.default.APP;const m=u.name,c=u.version;t.default={name:'App Version',initialize:(0,s.default)(m,c)}}),define('heimdalljs-visualizer/initializers/container-debug-adapter',['exports','ember-resolver/resolvers/classic/container-debug-adapter'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={name:'container-debug-adapter',initialize(){let o=arguments[1]||arguments[0];o.register('container-debug-adapter:main',s.default),o.inject('container-debug-adapter:main','namespace','application:main')}}}),define('heimdalljs-visualizer/initializers/truth-helpers',['exports','ember','ember-truth-helpers/utils/register-helper','ember-truth-helpers/helpers/and','ember-truth-helpers/helpers/or','ember-truth-helpers/helpers/equal','ember-truth-helpers/helpers/not','ember-truth-helpers/helpers/is-array','ember-truth-helpers/helpers/not-equal','ember-truth-helpers/helpers/gt','ember-truth-helpers/helpers/gte','ember-truth-helpers/helpers/lt','ember-truth-helpers/helpers/lte'],function(t,s,o,u,m,c,h,f,v,y,H,z,P){'use strict';function M(){s.default.Helper||((0,o.registerHelper)('and',u.andHelper),(0,o.registerHelper)('or',m.orHelper),(0,o.registerHelper)('eq',c.equalHelper),(0,o.registerHelper)('not',h.notHelper),(0,o.registerHelper)('is-array',f.isArrayHelper),(0,o.registerHelper)('not-eq',v.notEqualHelper),(0,o.registerHelper)('gt',y.gtHelper),(0,o.registerHelper)('gte',H.gteHelper),(0,o.registerHelper)('lt',z.ltHelper),(0,o.registerHelper)('lte',P.lteHelper))}Object.defineProperty(t,'__esModule',{value:!0}),t.initialize=M,t.default={name:'truth-helpers',initialize:M}}),define('heimdalljs-visualizer/resolver',['exports','ember-resolver'],function(t,s){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=s.default}),define('heimdalljs-visualizer/router',['exports','ember','heimdalljs-visualizer/config/environment'],function(t,s,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const u=s.default.Router.extend({location:o.default.locationType,rootURL:o.default.rootURL});u.map(function(){this.route('graph',{path:'/'},function(){this.route('node')}),this.route('slow-nodes'),this.route('flame')}),t.default=u}),define('heimdalljs-visualizer/services/graph',['exports','ember','heimdalljs-visualizer/config/environment','heimdalljs-graph'],function(t,s,o,u){'use strict';Object.defineProperty(t,'__esModule',{value:!0});const m=s.default.getOwner,c=`${o.default.storageVersion}_graph-data`,h=`${o.default.storageVersion}_selected-node-id`;t.default=s.default.Service.extend({init(){this._super(...arguments);let f=sessionStorage.getItem(c);f&&this.setGraph(JSON.parse(f));let v=sessionStorage.getItem(h);if(v&&f){let N=this.get('graph');var y=!0,H=!1,z;try{for(var M,P=N.dfsIterator()[Symbol.iterator]();!(y=(M=P.next()).done);y=!0){let B=M.value;if(B.id===v){this.set('selectedNode',B);break}}}catch(B){H=!0,z=B}finally{try{!y&&P.return&&P.return()}finally{if(H)throw z}}}},setGraph(f){let v=u.default.loadFromJSON(f);try{sessionStorage.setItem(c,JSON.stringify(f))}catch(y){}this.set('data',f),this.set('graph',v)},clearGraph(){this.set('data',null),this.set('graph',null),sessionStorage.removeItem(c),sessionStorage.removeItem(h)},selectNode(f){sessionStorage.setItem(h,f.id),this.set('selectedNode',f),m(this).lookup('router:main').transitionTo('graph.node')}})}),define('heimdalljs-visualizer/templates/application',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'2KtH467J',block:'{"statements":[[11,"section",[]],[15,"class","global-nav hero is-light"],[13],[0,"\\n  "],[11,"nav",[]],[15,"class","nav"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","nav-left"],[13],[0,"\\n      "],[6,["link-to"],["graph"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Graph"]],"locals":[]},null],[0,"\\n      "],[6,["link-to"],["slow-nodes"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Nodes"]],"locals":[]},null],[0,"\\n      "],[6,["link-to"],["flame"],[["class","activeClass"],["nav-item is-tab","is-active"]],{"statements":[[0,"Flame"]],"locals":[]},null],[0,"\\n    "],[14],[0,"\\n\\n    "],[11,"div",[]],[15,"class","nav-center"],[13],[0,"\\n      "],[11,"p",[]],[15,"class","nav-item title"],[13],[0,"\\n        Heimdall Visualizer\\n      "],[14],[0,"\\n    "],[14],[0,"\\n\\n    "],[11,"div",[]],[15,"class","nav-right"],[13],[0,"\\n"],[6,["if"],[[33,["not"],[[28,["graph","data"]]],null]],null,{"statements":[[0,"        "],[11,"a",[]],[15,"href","#"],[15,"class","nav-item"],[5,["action"],[[28,[null]],[33,["action"],[[28,[null]],[33,["mut"],[[28,["showUploadModal"]]],null],true],null]]],[13],[0,"\\n          Upload Data\\n        "],[14],[0,"\\n"]],"locals":[]},{"statements":[[0,"        "],[11,"a",[]],[15,"href","#"],[15,"class","nav-item"],[5,["action"],[[28,[null]],"clearData"]],[13],[0,"\\n          Clear Data\\n        "],[14],[0,"\\n"]],"locals":[]}],[0,"\\n      "],[11,"a",[]],[15,"class","nav-item"],[15,"href","https://github.com/rwjblue/heimdalljs-visualizer"],[13],[0,"\\n        "],[11,"span",[]],[15,"class","icon"],[13],[0,"\\n          "],[11,"i",[]],[15,"class","fa fa-github"],[13],[14],[0,"\\n        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n\\n"],[11,"div",[]],[16,"class",[34,["modal ",[33,["if"],[[28,["showUploadModal"]],"is-active"],null]]]],[13],[0,"\\n  "],[11,"div",[]],[15,"class","modal-background"],[13],[14],[0,"\\n  "],[11,"div",[]],[15,"class","modal-content"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","box"],[13],[0,"\\n      "],[11,"form",[]],[13],[0,"\\n        "],[11,"div",[]],[15,"class","control is-grouped"],[13],[0,"\\n          "],[11,"label",[]],[15,"class","label"],[13],[0,"Upload the output of "],[11,"code",[]],[13],[0,"BROCCOLI_VIZ=1 ember build"],[14],[0,":"],[14],[0,"\\n          "],[11,"p",[]],[15,"class","control"],[13],[0,"\\n            "],[11,"input",[]],[15,"name","file-upload"],[15,"type","file"],[16,"onchange",[33,["action"],[[28,[null]],"parseFile"],null],null],[13],[14],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n        "],[11,"div",[]],[15,"class","control is-grouped"],[13],[0,"\\n          "],[11,"label",[]],[15,"class","label"],[13],[0,"Sample File:"],[14],[0,"\\n          "],[11,"p",[]],[15,"class","control"],[13],[0,"\\n          "],[11,"span",[]],[15,"class","select is-small"],[13],[0,"\\n            "],[11,"select",[]],[16,"onchange",[33,["action"],[[28,[null]],"useSample"],[["value"],["target.value"]]],null],[13],[0,"\\n              "],[11,"option",[]],[15,"selected",""],[15,"disabled",""],[13],[0,"Choose sample file"],[14],[0,"\\n              "],[11,"option",[]],[15,"value","./broccoli-viz-files/initial-build-canary-ember-cli-20170206.json"],[13],[0,"Empty Project - 2017-02-06"],[14],[0,"\\n              "],[11,"option",[]],[15,"value","./broccoli-viz-files/ghost-initial-build-canary-ember-cli-20170206.json"],[13],[0,"Ghost Admin Client - 2017-02-06"],[14],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n  "],[11,"button",[]],[15,"class","modal-close"],[5,["action"],[[28,[null]],[33,["action"],[[28,[null]],[33,["mut"],[[28,["showUploadModal"]]],null],false],null]]],[13],[14],[0,"\\n"],[14],[0,"\\n\\n"],[6,["if"],[[28,["graph","data"]]],null,{"statements":[[0,"  "],[1,[26,["outlet"]],false],[0,"\\n"]],"locals":[]},{"statements":[[0,"  "],[11,"section",[]],[15,"class","upload-data-banner hero is-fullheight is-light"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","hero-body"],[13],[0,"\\n      "],[11,"div",[]],[15,"class","container has-text-centered"],[13],[0,"\\n        "],[11,"a",[]],[15,"href","#"],[5,["action"],[[28,[null]],[33,["action"],[[28,[null]],[33,["mut"],[[28,["showUploadModal"]]],null],true],null]]],[13],[0,"\\n          "],[11,"h1",[]],[15,"class","title"],[13],[0,"\\n            "],[11,"i",[]],[15,"class","fa fa-exclamation-triangle"],[13],[14],[0,"\\n          "],[14],[0,"\\n          "],[11,"h2",[]],[15,"class","subtitle"],[13],[0,"\\n            Please upload data.\\n          "],[14],[0,"\\n        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]}]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/application.hbs'}})}),define('heimdalljs-visualizer/templates/components/basic-tree',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'EU93+4w7',block:'{"statements":[[11,"div",[]],[15,"class","svg-container"],[13],[0,"\\n"],[14]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/basic-tree.hbs'}})}),define('heimdalljs-visualizer/templates/components/flame-graph',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'vdno0N5h',block:'{"statements":[[11,"div",[]],[15,"id","d3-flame-graph"],[13],[0,"\\n"],[14]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/flame-graph.hbs'}})}),define('heimdalljs-visualizer/templates/components/slow-node-times',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'h9allKsp',block:'{"statements":[[11,"div",[]],[15,"class","nodes-controls level is-marginless"],[13],[0,"\\n  "],[11,"div",[]],[15,"class","level-left"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","level-item"],[13],[0,"\\n      "],[11,"p",[]],[15,"class","control has-addons"],[13],[0,"\\n        "],[1,[33,["input"],null,[["class","value","placeholder"],["input",[28,["pluginNameFilter"]],"Filter by plugin name..."]]],false],[0,"\\n\\n        "],[11,"button",[]],[16,"class",[34,["button is-primary ",[33,["if"],[[33,["not"],[[28,["pluginNameFilter"]]],null],"is-disabled"],null]]]],[5,["action"],[[28,[null]],[33,["action"],[[28,[null]],[33,["mut"],[[28,["pluginNameFilter"]]],null],""],null]]],[13],[0,"Clear"],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n\\n    "],[11,"div",[]],[15,"class","level-item"],[13],[0,"\\n      "],[11,"p",[]],[15,"class","control"],[13],[0,"\\n        "],[11,"label",[]],[15,"class","checkbox"],[13],[0,"\\n          "],[1,[33,["input"],null,[["type","checked"],["checkbox",[28,["groupByPluginName"]]]]],false],[0,"\\n          Group by Plugin Name\\n        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n\\n"],[11,"table",[]],[15,"class","nodes-table table is-striped"],[13],[0,"\\n  "],[11,"thead",[]],[15,"class","nodes-table_header"],[13],[0,"\\n    "],[11,"tr",[]],[13],[0,"\\n      "],[11,"td",[]],[15,"style","width: 65%"],[13],[0,"Description"],[14],[0,"\\n      "],[11,"td",[]],[13],[1,[33,["if"],[[28,["groupByPluginName"]],"Count","Plugin Name"],null],false],[14],[0,"\\n      "],[11,"td",[]],[13],[0,"\\n        "],[11,"a",[]],[15,"href","#"],[15,"class","nodes-table_toggle"],[5,["action"],[[28,[null]],"toggleTime"]],[13],[0,"Time (ms) "],[11,"i",[]],[16,"class",[34,["fa fa-caret-",[33,["if"],[[28,["sortDescending"]],"down","up"],null]]]],[13],[14],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n\\n  "],[11,"tbody",[]],[13],[0,"\\n"],[6,["each"],[[28,["sortedNodes"]]],null,{"statements":[[0,"      "],[11,"tr",[]],[15,"class","table-row"],[5,["action"],[[28,[null]],"toggleDetailsForNode",[28,["node"]]]],[13],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["node","label","name"]],false],[14],[0,"\\n        "],[11,"td",[]],[13],[1,[28,["node","label","broccoliPluginName"]],false],[14],[0,"\\n        "],[11,"td",[]],[13],[1,[33,["ns-to-ms"],[[28,["node","_stats","time","plugin"]]],null],false],[14],[0,"\\n      "],[14],[0,"\\n"],[6,["if"],[[28,["node","showDetails"]]],null,{"statements":[[0,"        "],[11,"tr",[]],[13],[0,"\\n          "],[11,"td",[]],[15,"colspan","3"],[13],[0,"\\n            "],[11,"div",[]],[15,"class","card"],[13],[0,"\\n              "],[11,"header",[]],[15,"class","card-header"],[13],[0,"\\n                "],[11,"p",[]],[15,"class","card-header-title"],[13],[0,"\\n                  Node Stats\\n                "],[14],[0,"\\n              "],[14],[0,"\\n\\n              "],[11,"div",[]],[15,"class","card-content"],[13],[0,"\\n"],[6,["each"],[[33,["-each-in"],[[33,["stats-iterator"],[[28,["node"]]],null]],null]],null,{"statements":[[0,"                  "],[11,"div",[]],[13],[0,"\\n                    "],[11,"strong",[]],[13],[1,[28,["stat"]],false],[14],[0,":\\n"],[6,["if"],[[33,["includes"],[[28,["stat"]],"time"],null]],null,{"statements":[[0,"                      "],[1,[33,["ns-to-ms"],[[28,["value"]]],null],false],[0,"ms\\n"]],"locals":[]},{"statements":[[0,"                      "],[1,[28,["value"]],false],[0,"\\n"]],"locals":[]}],[0,"                  "],[14],[0,"\\n"]],"locals":["stat","value"]},null],[0,"              "],[14],[0,"\\n\\n              "],[11,"div",[]],[15,"class","card-footer"],[13],[0,"\\n                "],[11,"a",[]],[15,"class","card-footer-item"],[5,["action"],[[28,[null]],"focus-node",[28,["node"]]]],[13],[0,"Show Graph"],[14],[0,"\\n              "],[14],[0,"\\n            "],[14],[0,"\\n          "],[14],[0,"\\n        "],[14],[0,"\\n"]],"locals":[]},null]],"locals":["node"]},null],[0,"  "],[14],[0,"\\n  "],[11,"tfoot",[]],[13],[0,"\\n    "],[11,"tr",[]],[13],[0,"\\n      "],[11,"td",[]],[15,"colspan","2"],[15,"class","has-text-right"],[13],[0,"Total"],[14],[0,"\\n      "],[11,"td",[]],[13],[1,[33,["ns-to-ms"],[[28,["totalTime"]]],null],false],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/components/slow-node-times.hbs'}})}),define('heimdalljs-visualizer/templates/flame',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'8amAVmPm',block:'{"statements":[[1,[33,["flame-graph"],null,[["graphData"],[[28,["graph","graph"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/flame.hbs'}})}),define('heimdalljs-visualizer/templates/graph',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'IIrKwZu1',block:'{"statements":[[1,[26,["outlet"]],false],[0,"\\n\\n"],[11,"div",[]],[15,"class","selected-node-controls hero-footer"],[13],[0,"\\n  "],[11,"nav",[]],[15,"class","tabs is-boxed is-fullwidth"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","container"],[13],[0,"\\n      "],[11,"ul",[]],[13],[0,"\\n        "],[11,"li",[]],[16,"class",[34,[[33,["if"],[[33,["eq"],[[28,["route"]],"graph.index"],null],"is-active"],null]]]],[13],[0,"\\n          "],[6,["link-to"],["graph.index"],null,{"statements":[[0,"Full Graph"]],"locals":[]},null],[0,"\\n        "],[14],[0,"\\n        "],[11,"li",[]],[16,"class",[34,[[33,["if"],[[33,["eq"],[[28,["route"]],"graph.node"],null],"is-active"],null]]]],[13],[0,"\\n"],[6,["link-to"],["graph.node"],null,{"statements":[[0,"            Selected Node: "],[1,[33,["if"],[[28,["graph","selectedNode"]],[28,["graph","selectedNode","label","name"]],"None"],null],false],[0,"\\n"]],"locals":[]},null],[0,"        "],[14],[0,"\\n      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"],[14],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph.hbs'}})}),define('heimdalljs-visualizer/templates/graph/index',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'PEaVcNr3',block:'{"statements":[[1,[33,["basic-tree"],null,[["graphData"],[[28,["graph","graph"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph/index.hbs'}})}),define('heimdalljs-visualizer/templates/graph/node',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'kstGK74B',block:'{"statements":[[6,["if"],[[28,["graph","selectedNode"]]],null,{"statements":[[0,"  "],[1,[33,["basic-tree"],null,[["graphData","nodeFilter"],[[28,["graph","selectedNode"]],null]]],false],[0,"\\n"]],"locals":[]},{"statements":[[0,"  "],[11,"section",[]],[15,"class","upload-data-banner hero is-fullheight is-light"],[13],[0,"\\n    "],[11,"div",[]],[15,"class","hero-body"],[13],[0,"\\n      "],[11,"div",[]],[15,"class","container has-text-centered"],[13],[0,"\\n"],[6,["link-to"],["slow-nodes"],null,{"statements":[[0,"          "],[11,"h1",[]],[15,"class","title"],[13],[0,"\\n            "],[11,"i",[]],[15,"class","fa fa-exclamation-triangle"],[13],[14],[0,"\\n          "],[14],[0,"\\n          "],[11,"h2",[]],[15,"class","subtitle"],[13],[0,"\\n            Please select a node from the Nodes page.\\n          "],[14],[0,"\\n"]],"locals":[]},null],[0,"      "],[14],[0,"\\n    "],[14],[0,"\\n  "],[14],[0,"\\n"]],"locals":[]}]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/graph/node.hbs'}})}),define('heimdalljs-visualizer/templates/slow-nodes',['exports'],function(t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=Ember.HTMLBars.template({id:'FBaSZwxM',block:'{"statements":[[1,[33,["slow-node-times"],null,[["data"],[[28,["graph","graph"]]]]],false],[0,"\\n"]],"locals":[],"named":[],"yields":[],"hasPartials":false}',meta:{moduleName:'heimdalljs-visualizer/templates/slow-nodes.hbs'}})}),define('heimdalljs-visualizer/utils/d3-flame-graphs-v4/d3-flame-graph',['exports','d3-selection','d3-scale','d3-array','d3-transition','d3-tip','d3-hierarchy'],function(t,s,o,u,m,c,h){'use strict';Object.defineProperty(t,'__esModule',{value:!0});let f=[].indexOf||function(P){for(var M=0,N=this.length;M<N;M++)if(M in this&&this[M]===P)return M;return-1},v=function(M){let N;return M?(N=M.split('.'),N.slice(N.length-2).join('.')):''},y=function(M){let N,B,T,w,k,A,L,F;for(k=[0,0,1,10],L=k[0],T=k[1],F=k[2],w=k[3],M=v(M).slice(0,6),(N=B=0,A=M.length-1);0<=A?B<=A:B>=A;N=0<=A?++B:--B)L+=F*(M.charCodeAt(N)%w),T+=F*(w-1),F*=0.7;return 0<T?L/T:L};const H={augment(P,M){let N=P.children;if(P.augmented)return P;if(P.originalValue=P.value,P.level=P.children?1:0,P.hidden=[],P.location=M,null==N||!N.length)return P.augmented=!0,P;let B=N.reduce(function(T,w){return T+w.value},0);return B<P.value&&N.push({value:P.value-B,filler:!0}),N.forEach((T,w)=>H.augment(T,M+'.'+w)),P.level+=N.reduce((T,w)=>_Mathmax(w.level,T),0),P.augmented=!0,P},partition(P){let M=(0,h.partition)(),N=(0,h.hierarchy)(P).sum((B)=>B.data?B.data.value:B.value).sort((B,T)=>{if(B.filler)return 1;if(T.filler)return-1;const w=B.data.name||'';return w.localeCompare(T.data.name)});return M(N).descendants()},hide(P,M){null===M&&(M=!1);let N=(A)=>A.reduce((L,F)=>L+F,0),B=(A,L)=>{let F=A.indexOf(L);if(0<=F)return A.splice(F,1)},T=(A,L)=>{return M?B(A.hidden,L):A.hidden.push(L),A.value=_Mathmax(A.originalValue-N(A.hidden),0)},w=(A,L)=>{return A.children?A.children.forEach((F)=>{return T(F,L),w(F,L)}):void 0},k=(A,L)=>{let F=[];for(;A.parent;)T(A.parent,L),F.push(A=A.parent);return F};return P.forEach((A)=>{let L=A.originalValue;return k(A,L),T(A,L),w(A,L)})}};t.default=class{constructor(P,M,N){this._selector=P,this._generateAccessors(['margin','cellHeight','zoomEnabled','zoomAction','tooltip','tooltipPlugin','color','labelFunction']),this._ancestors=[],null==N&&(N=!1),this.console=N?window.console:{log(){},time(){},timeEnd(){}},this._size=[1200,800],this._cellHeight=20,this._margin={top:0,right:0,bottom:0,left:0},this._color=(B)=>{let T=y(B.data?B.data.name:B.name),w=200+_Mathround(55*T),k=0+_Mathround(230*(1-T)),A=0+_Mathround(55*(1-T));return'rgb('+w+', '+k+', '+A+')'},this._labelFunction=null,this._tooltipEnabled=!0,this._zoomEnabled=!0,this._tooltipEnabled&&c.default&&(this._tooltipPlugin=(0,c.default)()),this.console.time('augment'),this.original=H.augment(M,'0'),this.console.timeEnd('augment'),this.root(this.original)}size(P){return P?(this._size=P,(0,s.select)(this._selector).select('.flame-graph').attr('width',this._size[0]).attr('height',this._size[1]),this):this._size}root(P){return P?(this.console.time('partition'),this._root=P,this._data=H.partition(this._root),this._rootNode=this._data[0],this.console.timeEnd('partition'),this):this._root}hide(P,M){let N;if(null==M&&(M=!1),N=this.select(P,!1),!!N.length)return H.hide(N,M),this._data=H.partition(this._root),this.render()}zoom(P,M){if(!this.zoomEnabled())throw new Error('Zoom is disabled!');return this.tip&&this.tip.hide(),0<=f.call(this._ancestors,P)?this._ancestors=this._ancestors.slice(0,this._ancestors.indexOf(P)):this._ancestors.push(this._root),this.root(P.data?P.data:P).render(),'function'==typeof this._zoomAction&&this._zoomAction(P,M),this}width(){return this.size()[0]-(this.margin().left+this.margin().right)}height(){return this.size()[1]-(this.margin().top+this.margin().bottom)}label(P){if(!(null!=P)||!P.data.name)return'';let M='function'==typeof this._labelFunction?this._labelFunction(P):v(P.data.name);return M.substr(0,_Mathround(this.x(P.x1-P.x0)/(4*(this.cellHeight()/10))))}select(P,M){let N;return null==M&&(M=!0),M?this.container.selectAll('.node').filter(P):(N=H.partition(this.original).filter(P),N)}render(){if(!this._selector)throw new Error('No DOM element provided');this.console.time('render'),this.container||this._createContainer(),this.fontSize=0.4*(this.cellHeight()/10),this.x=(0,o.scaleLinear)().domain([0,(0,u.max)(this._data,(k)=>k.x1)]).range([0,this.width()]);let P=Math.floor(this.height()/this.cellHeight()),M=this._root.level;this.y=(0,o.scaleQuantize)().domain([(0,u.min)(this._data,(k)=>k.y0),(0,u.max)(this._data,(k)=>k.y0)]).range((0,u.range)(M).map(function(k){return function(A){return(P-1-A-k._ancestors.length)*k.cellHeight()}}(this)));let N=this._data.filter(function(k){return function(A){return 0.4<k.x(A.x1-A.x0)&&0<=k.y(A.y0)&&!A.data.filler}}(this)),B={x:function(k){return function(A){return k.x(A.x0)}}(this),y:function(k){return function(A){return k.y(A.y0)}}(this),width:function(k){return function(A){let L=k.x(A.x1-A.x0);return L}}(this),height:function(k){return function(){return k.cellHeight()}}(this),text:function(k){return function(A){if(A.data.name&&40<k.x(A.x1-A.x0))return k.label(A)}}(this)},T=this.container.selectAll('.node').data(N,(k)=>k.data.location).attr('class','node');this._renderNodes(T,B,!1,N);let w=T.enter().append('g').attr('class','node');return this._renderNodes(w,B,!0,N),T.exit().remove(),this.zoomEnabled()&&this._renderAncestors()._enableNavigation(),this.tooltip()&&this._renderTooltip(),this.console.timeEnd('render'),this.console.log(`Processed ${this._data.length} items`),this}_createContainer(){(0,s.select)(this._selector).select('svg').remove();let P=(0,s.select)(this._selector).append('svg').attr('class','flame-graph').attr('width',this._size[0]).attr('height',this._size[1]),M=`translate(${this.margin().left}, ${this.margin().top})`;return this.container=P.append('g').attr('transform',M),P.append('rect').attr('width',this._size[0]-(this._margin.left+this._margin.right)).attr('height',this._size[1]-(this._margin.top+this._margin.bottom)).attr('transform',M).attr('class','border-rect')}_renderNodes(P,M,N,B){let T,w;return null==N&&(N=!1),N||(w=P.selectAll('rect')),N&&(w=P.append('rect')),w.data(B,(k)=>k.data?k.data.location:k.location).attr('fill',function(k){return function(A){return k._color(A)}}(this)).transition().attr('width',M.width).attr('height',this.cellHeight()).attr('x',M.x).attr('y',M.y),N||(T=P.selectAll('text')),N&&(T=P.append('text')),T.data(B,(k)=>k.data?k.data.location:k.location).attr('class','label').style('font-size',this.fontSize+'em').transition().attr('dy',this.fontSize/2+'em').attr('x',function(){return function(A){return M.x(A)+2}}(this)).attr('y',function(k){return function(A,L){return M.y(A,L)+k.cellHeight()/2}}(this)).text(M.text),this}_renderTooltip(){return this._tooltipPlugin&&this._tooltipEnabled?(this.tip=this._tooltipPlugin.attr('class','d3-tip').html(this.tooltip()).direction(((P)=>(M)=>{return P.x(M.x0)+P.x(M.x1-M.x0)/2>P.width()-100?'w':100>P.x(M.x0)+P.x(M.x1-M.x0)/2?'e':'s'})(this)).offset(((P)=>(M)=>{let N=P.x(M.x0)+P.x(M.x1-M.x0)/2,B=_Mathmax(_Mathceil(P.x(M.x1-M.x0)/2),5),T=_Mathceil(P.cellHeight()/2);return P.width()-100<N?[0,-B]:100>N?[0,B]:[T,0]})(this)),this.container.call(this.tip),this.container.selectAll('.node').on('mouseover',function(P){return function(M){return P.tip.show(M,s.event.currentTarget)}}(this)).on('mouseout',this.tip.hide).selectAll('.label').on('mouseover',function(P){return function(M){return P.tip.show(M,s.event.currentTarget.parentNode)}}(this)).on('mouseout',this.tip.hide),this):this}_renderAncestors(){let M,N,B,T,w;if(!this._ancestors.length)return w=this.container.selectAll('.ancestor').remove(),this;let k=this._ancestors.map((F,C)=>({name:F.name,value:C+1,location:F.location,isAncestor:!0}));for(N=M=0,B=k.length;M<B;N=++M){T=k[N];let F=k[N-1];F&&(F.children=[T])}let A={x:function(){return function(){return 0}}(this),y:function(F){return function(C){return F.height()-C.value*F.cellHeight()}}(this),width:this.width(),height:this.cellHeight(),text:function(){return function(C){return'\u21A9 '+v(C.data?C.data.name:C.name)}}(this)};w=this.container.selectAll('.ancestor').data(H.partition(k[0]),(F)=>F.location),this._renderNodes(w,A,!1,k);let L=w.enter().append('g').attr('class','ancestor');return this._renderNodes(L,A,!0,k),w.exit().remove(),this}_enableNavigation(){let P=((M)=>(N)=>{let B;return 0<_Mathround(M.width()-M.x(N.x1-N.x0))&&(null==(B=N.children)?void 0:B.length)})(this);return this.container.selectAll('.node').classed('clickable',(()=>(N)=>P(N))(this)).on('click',((M)=>(N)=>{if(M.tip&&M.tip.hide(),P(N))return M.zoom(N,s.event)})(this)),this.container.selectAll('.ancestor').on('click',((M)=>(N,B)=>{return M.tip&&M.tip.hide(),M.zoom(M._ancestors[B],s.event)})(this)),this}_generateAccessors(P){let M,N=[];for(let B=0,T=P.length;B<T;B++)M=P[B],N.push(this[M]=((w)=>function(k){return arguments.length?(this['_'+w]=k,this):this['_'+w]})(M));return N}}}),define('heimdalljs-visualizer/config/environment',['ember'],function(){try{var o='heimdalljs-visualizer'+'/config/environment',u=document.querySelector('meta[name="'+o+'"]').getAttribute('content'),m=JSON.parse(unescape(u)),c={'default':m};return Object.defineProperty(c,'__esModule',{value:!0}),c}catch(h){throw new Error('Could not read config from meta tag with name "'+o+'".')}}),runningTests||require('heimdalljs-visualizer/app')['default'].create({name:'heimdalljs-visualizer',version:'0.5.0+c78ae898'});